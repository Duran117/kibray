{% load static i18n %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% trans "Color Sample Approval" %} #{{ color_sample.id }}</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; color: #333; line-height: 1.6; padding: 40px; }
        
        .header { border-bottom: 3px solid #7c3aed; padding-bottom: 20px; margin-bottom: 30px; }
        .header h1 { font-size: 24px; color: #7c3aed; margin-bottom: 5px; }
        .header p { color: #666; font-size: 12px; }
        
        .badge { display: inline-block; background: #10b981; color: white; padding: 8px 16px; border-radius: 4px; font-weight: bold; margin-bottom: 20px; }
        
        .section { margin-bottom: 25px; }
        .section-title { font-size: 14px; font-weight: bold; color: #7c3aed; border-bottom: 2px solid #e5e7eb; padding-bottom: 8px; margin-bottom: 15px; }
        
        .info-grid { display: table; width: 100%; }
        .info-row { display: table-row; }
        .info-item { display: table-cell; padding: 10px; background: #f8fafc; border-left: 4px solid #7c3aed; margin-bottom: 10px; width: 50%; }
        .info-item label { display: block; font-size: 10px; color: #666; text-transform: uppercase; margin-bottom: 4px; }
        .info-item .value { font-size: 14px; font-weight: bold; color: #333; }
        
        .signature-box { text-align: center; margin: 30px 0; padding: 20px; border: 2px solid #e5e7eb; border-radius: 8px; }
        .signature-box img { max-width: 300px; max-height: 100px; }
        
        .timestamp { background: #fef3c7; border: 1px solid #fbbf24; padding: 15px; border-radius: 4px; margin: 20px 0; font-size: 12px; }
        
        .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; font-size: 10px; color: #666; text-align: center; }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1>{% trans "Color Sample Approval" %}</h1>
        <p>{% trans "Digital Record Document" %} - #{{ color_sample.id }}</p>
    </div>

    <!-- Approval Badge -->
    <div class="badge">âœ“ {% trans "APPROVED" %}</div>

    <!-- Color Sample Information -->
    <div class="section">
        <div class="section-title">{% trans "Color Sample" %}</div>
        <table style="width: 100%; border-collapse: separate; border-spacing: 0 8px;">
            <tr>
                <td style="padding: 10px; background: #f8fafc; border-left: 4px solid #7c3aed; width: 50%;">
                    <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-bottom: 4px;">{% trans "Name" %}</div>
                    <div style="font-size: 14px; font-weight: bold;">{{ color_sample.name|default:"-" }}</div>
                </td>
                <td style="padding: 10px; background: #f8fafc; border-left: 4px solid #7c3aed; width: 50%;">
                    <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-bottom: 4px;">{% trans "Code" %}</div>
                    <div style="font-size: 14px; font-weight: bold;">{{ color_sample.code|default:"-" }}</div>
                </td>
            </tr>
            <tr>
                <td style="padding: 10px; background: #f8fafc; border-left: 4px solid #7c3aed;">
                    <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-bottom: 4px;">{% trans "Brand" %}</div>
                    <div style="font-size: 14px; font-weight: bold;">{{ color_sample.brand|default:"-" }}</div>
                </td>
                <td style="padding: 10px; background: #f8fafc; border-left: 4px solid #7c3aed;">
                    <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-bottom: 4px;">{% trans "Finish" %}</div>
                    <div style="font-size: 14px; font-weight: bold;">{{ color_sample.finish|default:"-" }}</div>
                </td>
            </tr>
        </table>
    </div>

    <!-- Project Information -->
    <div class="section">
        <div class="section-title">{% trans "Project" %}</div>
        <table style="width: 100%; border-collapse: separate; border-spacing: 0 8px;">
            <tr>
                <td style="padding: 10px; background: #f8fafc; border-left: 4px solid #7c3aed; width: 50%;">
                    <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-bottom: 4px;">{% trans "Project" %}</div>
                    <div style="font-size: 14px; font-weight: bold;">{{ color_sample.project.name }}</div>
                </td>
                <td style="padding: 10px; background: #f8fafc; border-left: 4px solid #7c3aed; width: 50%;">
                    <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-bottom: 4px;">{% trans "Location" %}</div>
                    <div style="font-size: 14px; font-weight: bold;">{{ color_sample.room_location|default:"-" }}</div>
                </td>
            </tr>
        </table>
    </div>

    <!-- Approval Information -->
    <div class="section">
        <div class="section-title">{% trans "Approval Information" %}</div>
        <table style="width: 100%; border-collapse: separate; border-spacing: 0 8px;">
            <tr>
                <td style="padding: 10px; background: #f8fafc; border-left: 4px solid #7c3aed; width: 50%;">
                    <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-bottom: 4px;">{% trans "Signed By" %}</div>
                    <div style="font-size: 14px; font-weight: bold;">{{ color_sample.client_signed_name|default:"-" }}</div>
                </td>
                <td style="padding: 10px; background: #f8fafc; border-left: 4px solid #7c3aed; width: 50%;">
                    <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-bottom: 4px;">{% trans "Date & Time" %}</div>
                    <div style="font-size: 14px; font-weight: bold;">{{ color_sample.client_signed_at|date:"m/d/Y H:i:s" }}</div>
                </td>
            </tr>
            <tr>
                <td style="padding: 10px; background: #f8fafc; border-left: 4px solid #7c3aed;">
                    <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-bottom: 4px;">{% trans "Approval ID" %}</div>
                    <div style="font-size: 14px; font-weight: bold;">#{{ color_sample.id }}</div>
                </td>
                <td style="padding: 10px; background: #f8fafc; border-left: 4px solid #7c3aed;">
                    <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-bottom: 4px;">{% trans "Sample Number" %}</div>
                    <div style="font-size: 14px; font-weight: bold;">{{ color_sample.sample_number|default:"-" }}</div>
                </td>
            </tr>
        </table>
    </div>

    <!-- Timestamp & Security -->
    <div class="timestamp">
        <strong>ðŸ”’ {% trans "Security Record" %}:</strong><br>
        {% trans "Signature recorded on" %} {{ color_sample.client_signed_at|date:"F d, Y" }} {% trans "at" %} {{ color_sample.client_signed_at|date:"H:i:s" }}
        {% if color_sample.approval_ip %}
        <br>{% trans "IP Address" %}: {{ color_sample.approval_ip }}
        {% endif %}
        {% if color_sample.approval_signature %}
        <br>{% trans "Digital Hash" %}: {{ color_sample.approval_signature|truncatechars:32 }}...
        {% endif %}
    </div>

    <!-- Signature -->
    {% if color_sample.client_signature %}
    <div class="signature-box">
        <div style="font-size: 14px; font-weight: bold; margin-bottom: 15px;">{% trans "Recorded Signature" %}</div>
        <img src="{{ color_sample.client_signature.url }}" alt="{% trans 'Signature' %}">
        <div style="margin-top: 10px; font-size: 12px; color: #666;">{{ color_sample.client_signed_name }}</div>
    </div>
    {% endif %}

    <!-- Footer -->
    <div class="footer">
        <p>
            <strong>{% trans "This document is an official approval record generated automatically." %}</strong><br>
            {% trans "The registered digital signature is legally binding." %}<br>
            {% trans "Generated by Kibray" %} - {% now "m/d/Y H:i" %}
        </p>
    </div>
</body>
</html>
