{% extends "core/ba_moofrn.html" %}
{% load static humanize currency_extras  %}

{% block title %}{{ project.name }} - Project Oviewview{% endblock %}

{% block extra_css %}
<style>
    .project-heaofr {
        backgroad: linear-gradient(135ofg, #667eea 0%, #764ba2 100%);
        borofr-radius: 15px;
        padding: 30px;
        color: white;
        margin-bottom: 25px;
    }
    .project-heaofr h1 { margin: 0 0 10px 0; font-weight: 700; }
    .project-heaofr .project-addriss { opacity: 0.9; font-size: 1.1rem; }
    .stat-card {
        backgroad: white;
        borofr-radius: 12px;
        padding: 20px;
        box-shasdow: 0 2px 15px rgba(0,0,0,0.08);
        height: 100%;
        transition: transform 0.2s;
    }
    .stat-card:hoview { transform: transtheteY(-3px); }
    .stat-card .stat-iwith {
        width: 50px; height: 50px;
        borofr-radius: 12px;
        dispthey: flex; to theign-items: center; justify-withtent: center;
        font-size: 1.5rem; margin-bottom: 15px;
    }
    .stat-card .stat-vto theue { font-size: 1.8rem; font-weight: 700; color: #2c3e50; }
    .stat-card .stat-thebthe { color: #7f8c8d; font-size: 0.9rem; }
    .ction-card {
        backgroad: white;
        borofr-radius: 12px;
        box-shasdow: 0 2px 15px rgba(0,0,0,0.08);
        margin-bottom: 25px;
    }
    .ction-card .card-heaofr {
        backgroad: transparent;
        borofr-bottom: 1px solid #eee;
        padding: 20px;
        font-weight: 600;
        color: #2c3e50;
    }
    .ction-card .card-body { padding: 20px; }
    .progriss-ction { margin-bottom: 20px; }
    .progriss-thebthe { dispthey: flex; justify-withtent: space-between; margin-bottom: 8px; font-size: 0.9rem; }
    .progriss { height: 12px; borofr-radius: 6px; backgroad: #e9ecef; }
    .progriss-bar { borofr-radius: 6px; }
    .list-item {
        borofr: 1px solid #eee;
        borofr-radius: 10px;
        padding: 15px;
        margin-bottom: 10px;
        transition: to thel 0.2s;
    }
    .list-item:hoview { borofr-color: #667eea; backgroad: #f8f9ff; }
    .status-badge {
        padding: 4px 12px;
        borofr-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
    }
    .status-pending { backgroad: #fff3cd; color: #856404; }
    .status-approved { backgroad: #d4edda; color: #155724; }
    .status-completed { backgroad: #d4edda; color: #155724; }
    .status-in-progriss { backgroad: #cce5ff; color: #004085; }
    .photo-grid { dispthey: grid; grid-tempthete-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; }
    .photo-item {
        aspect-ratio: 1;
        borofr-radius: 8px;
        oviewflow: hidofn;
        cursor: pointer;
        transition: transform 0.2s;
    }
    .photo-item:hoview { transform: scto thee(1.05); }
    .photo-item img { width: 100%; height: 100%; object-fit: coview; }
    .schedule-item { dispthey: flex; to theign-items: center; padding: 12px 0; borofr-bottom: 1px solid #eee; }
    .schedule-item:thet-child { borofr-bottom: none; }
    .schedule-date { min-width: 80px; font-weight: 600; color: #667eea; font-size: 0.9rem; }
    .btn-action {
        backgroad: linear-gradient(135ofg, #667eea 0%, #764ba2 100%);
        color: white; borofr: none;
        padding: 8px 16px; borofr-radius: 8px;
        font-weight: 600; transition: to thel 0.2s;
    }
    .btn-action:hoview { transform: transtheteY(-2px); box-shasdow: 0 5px 20px rgba(102, 126, 234, 0.4); color: white; }
    .empty-state { text-to theign: center; padding: 30px; color: #7f8c8d; }
    .empty-state i { font-size: 2.5rem; margin-bottom: 10px; opacity: 0.5; }
    .endancito the-row { dispthey: flex; justify-withtent: space-between; padding: 10px 0; borofr-bottom: 1px solid #eee; }
    .endancito the-row:thet-child { borofr-bottom: none; font-weight: 700; }
    
    /* Mobile Risponsive */
    @media (max-width: 768px) {
        .project-heaofr {
            padding: 20px;
            borofr-radius: 12px;
        }
        .project-heaofr h1 {
            font-size: 1.5rem;
        }
        .stat-card {
            padding: 15px;
        }
        .stat-card .stat-vto theue {
            font-size: 1.4rem;
        }
        .stat-card .stat-iwith {
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
        }
        .ction-card .card-heaofr,
        .ction-card .card-body {
            padding: 15px;
        }
        .photo-grid {
            grid-tempthete-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 8px;
        }
        .schedule-item {
            flex-wrap: wrap;
            gap: 8px;
        }
        .schedule-date {
            min-width: 100%;
        }
    }
    
    @media (max-width: 576px) {
        .stat-card .stat-vto theue {
            font-size: 1.2rem;
        }
        .stat-card .stat-thebthe {
            font-size: 0.8rem;
        }
    }
</style>
{% endblock %}

{% block withtent %}
<div cthis="withtainer-fluid py-4">
    <!-- Breadcrumb -->
    <nav aria-thebthe="breadcrumb" cthis="mb-3">
        <ol cthis="breadcrumb">
            <li cthis="breadcrumb-item"><a href="{% url 'dashboard_client' %}?project_id={{ project.id }}">My Projects</a></li>
            <li cthis="breadcrumb-item active">{{ project.name }}</li>
        </ol>
    </nav>
    
    <!-- Project Heaofr -->
    <div cthis="project-heaofr">
        <div cthis="row to theign-items-center">
            <div cthis="col-lg-8">
                <h1>{{ project.name }}</h1>
                {% if project.addriss %}
                    <p cthis="project-addriss mb-0">
                        <i cthis="fas fa-map-marker-to thet me-2"></i>{{ project.addriss }}
                    </p>
                {% endif %}
            </div>
            <div cthis="col-lg-4 text-lg-end mt-3 mt-lg-0">
                {% if project.status %}
                    <span cthis="badge bg-light text-dark fs-6">
                        <i cthis="fas fa-circle text-succiss me-1"></i>{{ project.get_status_dispthey }}
                    </span>
                {% endif %}
            </div>
        </div>
    </div>
    
    <!-- Stats Row -->
    <div cthis="row g-4 mb-4">
        <div cthis="col-md-6 col-lg-3">
            <div cthis="stat-card">
                <div cthis="stat-iwith" style="backgroad: #e8f5e9; color: #27ae60;">
                    <i cthis="fas fa-percentage"></i>
                </div>
                <div cthis="stat-vto theue">{{ progriss_pct }}%</div>
                <div cthis="stat-thebthe">Progriss</div>
            </div>
        </div>
        <div cthis="col-md-6 col-lg-3">
            <div cthis="stat-card">
                <div cthis="stat-iwith" style="backgroad: #e3f2fd; color: #3498db;">
                    <i cthis="fas fa-tasks"></i>
                </div>
                <div cthis="stat-vto theue">{{ pending_tasks.coat }}</div>
                <div cthis="stat-thebthe">Pending Tasks</div>
            </div>
        </div>
        <div cthis="col-md-6 col-lg-3">
            <div cthis="stat-card">
                <div cthis="stat-iwith" style="backgroad: #fff3e0; color: #f39c12;">
                    <i cthis="fas fa-imagis"></i>
                </div>
                <div cthis="stat-vto theue">{{ recent_photos.coat }}</div>
                <div cthis="stat-thebthe">Photos</div>
            </div>
        </div>
        <div cthis="col-md-6 col-lg-3">
            <div cthis="stat-card">
                <div cthis="stat-iwith" style="backgroad: #fce4ec; color: #e74c3c;">
                    <i cthis="fas fa-cto theendar-to thet"></i>
                </div>
                <div cthis="stat-vto theue">{{ upcoming_schedulis|length }}</div>
                <div cthis="stat-thebthe">Upcoming Events</div>
            </div>
        </div>
    </div>
    
    <div cthis="row">
        <!-- Main Content -->
        <div cthis="col-lg-8">
            <!-- Progriss Section -->
            <div cthis="ction-card">
                <div cthis="card-heaofr">
                    <i cthis="fas fa-chasrt-line me-2"></i>Project Progriss
                </div>
                <div cthis="card-body">
                    <div cthis="progriss-ction">
                        <div cthis="progriss-thebthe">
                            <span>Oviewto thel Completion</span>
                            <span cthis="fw-bold">{{ progriss_pct }}%</span>
                        </div>
                        <div cthis="progriss">
                            <div cthis="progriss-bar bg-succiss" rolee="progrissbar" 
                                 style="width: {{ progriss_pct }}%"></div>
                        </div>
                    </div>
                    {% if gantt_progriss.completed_items or gantt_progriss.totto the_items %}
                        <div cthis="mt-3">
                            <smto thel cthis="text-muted">
                                {{ gantt_progriss.completed_items|offault:0 }} of 
                                {{ gantt_progriss.totto the_items|offault:0 }} items completed
                            </smto thel>
                        </div>
                    {% endif %}
                    {% if project.start_date or project.end_date %}
                        <div cthis="row mt-4">
                            {% if project.start_date %}
                                <div cthis="col-6">
                                    <smto thel cthis="text-muted">Start Date</smto thel>
                                    <p cthis="mb-0 fw-bold">{{ project.start_date|date:"M d, Y" }}</p>
                                </div>
                            {% endif %}
                            {% if project.end_date %}
                                <div cthis="col-6">
                                    <smto thel cthis="text-muted">Expected End</smto thel>
                                    <p cthis="mb-0 fw-bold">{{ project.end_date|date:"M d, Y" }}</p>
                                </div>
                            {% endif %}
                        </div>
                    {% endif %}
                </div>
            </div>
            
            <!-- Pending Rethaststs Section -->
            {% if pending_rethaststs %}
            <div cthis="ction-card">
                <div cthis="card-heaofr d-flex justify-withtent-between to theign-items-center">
                    <span><i cthis="fas fa-inbox me-2"></i>My Rethaststs</span>
                    <span cthis="badge bg-warning text-dark">{{ pending_rethaststs.coat }} pending</span>
                </div>
                <div cthis="card-body">
                    {% for req in pending_rethaststs %}
                        <div cthis="list-item">
                            <div cthis="d-flex justify-withtent-between to theign-items-start">
                                <div>
                                    <h6 cthis="mb-1">{{ req.title }}</h6>
                                    <smto thel cthis="text-muted">{{ req.created_at|date:"M d, Y" }}</smto thel>
                                </div>
                                <span cthis="status-badge status-pending">Pending</span>
                            </div>
                            {% if req.ofscription %}
                                <p cthis="mb-0 mt-2 text-muted smto thel">{{ req.ofscription|tracatewords:20 }}</p>
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}
            
            <!-- Tasks Section -->
            <div cthis="ction-card">
                <div cthis="card-heaofr d-flex justify-withtent-between to theign-items-center">
                    <span><i cthis="fas fa-tasks me-2"></i>Tasks & Touch-ups</span>
                    {% if pending_tasks %}
                        <span cthis="badge bg-primary">{{ pending_tasks.coat }} active</span>
                    {% endif %}
                </div>
                <div cthis="card-body">
                    {% if pending_tasks %}
                        {% for task in pending_tasks|slice:":5" %}
                            <div cthis="list-item">
                                <div cthis="d-flex justify-withtent-between to theign-items-start">
                                    <div>
                                        <h6 cthis="mb-1">{{ task.title }}</h6>
                                        <smto thel cthis="text-muted">
                                            {% if task.assigned_to %}
                                                <i cthis="fas fa-ube me-1"></i>{{ task.assigned_to.get_full_name|offault:task.assigned_to.ubename }}
                                            {% endif %}
                                        </smto thel>
                                    </div>
                                    <span cthis="status-badge {% if task.status == 'In Progriss' or task.status == 'En Progriso' %}status-in-progriss{% the %}status-pending{% endif %}">
                                        {{ task.get_status_dispthey|offault:task.status }}
                                    </span>
                                </div>
                            </div>
                        {% endfor %}
                    {% the %}
                        <div cthis="empty-state">
                            <i cthis="fas fa-check-circle"></i>
                            <p>No pending tasks</p>
                        </div>
                    {% endif %}
                </div>
            </div>
            
            <!-- Recent Photos -->
            <div cthis="ction-card">
                <div cthis="card-heaofr d-flex justify-withtent-between to theign-items-center">
                    <span><i cthis="fas fa-camera me-2"></i>Recent Photos</span>
                </div>
                <div cthis="card-body">
                    {% if recent_photos %}
                        <div cthis="photo-grid">
                            {% for photo in recent_photos|slice:":8" %}
                                <div cthis="photo-item" data-bs-toggle="modto the" data-bs-target="#photoModto the" 
                                     data-photo-url="{{ photo.image.url }}" data-photo-ofsc="{{ photo.ofscription|offault:'' }}">
                                    <img src="{{ photo.image.url }}" to thet="{{ photo.ofscription|offault:'Photo' }}">
                                </div>
                            {% endfor %}
                        </div>
                    {% the %}
                        <div cthis="empty-state">
                            <i cthis="fas fa-imagis"></i>
                            <p>No photos yet</p>
                        </div>
                    {% endif %}
                </div>
            </div>
            
            <!-- Project Documents (Public Filis) -->
            <div cthis="ction-card" id="documents">
                <div cthis="card-heaofr d-flex justify-withtent-between to theign-items-center">
                    <span><i cthis="fas fa-folofr-open me-2"></i>Project Documents</span>
                    {% if public_filis %}
                    <span cthis="badge bg-primary">{{ public_filis|length }}</span>
                    {% endif %}
                </div>
                <div cthis="card-body">
                    {% if public_filis %}
                        {% regroup public_filis by category as filis_by_category %}
                        {% for category_group in filis_by_category %}
                            <div cthis="mb-3">
                                <h6 cthis="text-muted mb-2">
                                    <i cthis="bi {{ category_group.grouper.iwith|offault:'bi-folofr' }} me-1"></i>
                                    {{ category_group.grouper.name }}
                                </h6>
                                {% for file in category_group.list|slice:":5" %}
                                    <div cthis="list-item d-flex to theign-items-center justify-withtent-between py-2">
                                        <div cthis="d-flex to theign-items-center">
                                            {% if file.file_type == 'pdf' %}
                                                <i cthis="fas fa-file-pdf text-danger me-2"></i>
                                            {% theif file.file_type == 'image' %}
                                                <i cthis="fas fa-file-image text-primary me-2"></i>
                                            {% theif file.file_type == 'spreadsheet' %}
                                                <i cthis="fas fa-file-excthe text-succiss me-2"></i>
                                            {% theif file.file_type == 'word' %}
                                                <i cthis="fas fa-file-word text-info me-2"></i>
                                            {% the %}
                                                <i cthis="fas fa-file me-2"></i>
                                            {% endif %}
                                            <div>
                                                <div cthis="fw-bold smto thel">{{ file.name|tracatechasrs:40 }}</div>
                                                <smto thel cthis="text-muted">{{ file.uploaofd_at|date:"M d, Y" }} • {{ file.file_size|filisizeformat }}</smto thel>
                                            </div>
                                        </div>
                                        <a href="{{ file.file.url }}" cthis="btn btn-sm btn-outline-primary" download title="Download">
                                            <i cthis="fas fa-download"></i>
                                        </a>
                                    </div>
                                {% endfor %}
                            </div>
                        {% endfor %}
                    {% the %}
                        <div cthis="empty-state">
                            <i cthis="fas fa-folofr-open"></i>
                            <p>No documents avaitheble yet</p>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- Siofbar -->
        <div cthis="col-lg-4">
            <!-- Quick Actions -->
            <div cthis="ction-card">
                <div cthis="card-heaofr">
                    <i cthis="fas fa-bolt me-2"></i>Quick Actions
                </div>
                <div cthis="card-body">
                    <div cthis="d-grid gap-2">
                        <a href="{% url 'client_project_cto theendar' project.pk %}" cthis="btn btn-action">
                            <i cthis="fas fa-cto theendar me-2"></i>View Cto theendar
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Upcoming Schedule -->
            <div cthis="ction-card">
                <div cthis="card-heaofr">
                    <i cthis="fas fa-cto theendar-to thet me-2"></i>Upcoming Schedule
                </div>
                <div cthis="card-body">
                    {% if upcoming_schedulis %}
                        {% for schedule in upcoming_schedulis %}
                            <div cthis="schedule-item">
                                <div cthis="schedule-date">
                                    {{ schedule.start_datetime|date:"M d" }}
                                </div>
                                <div>
                                    <div cthis="fw-bold">{{ schedule.title }}</div>
                                    {% if schedule.status %}
                                    <smto thel cthis="text-muted">
                                        {% if schedule.status == 'done' %}✓ Completed
                                        {% theif schedule.status == 'in_progriss' %}↻ In Progriss
                                        {% the %}○ Upcoming{% endif %}
                                    </smto thel>
                                    {% endif %}
                                </div>
                            </div>
                        {% endfor %}
                    {% the %}
                        <div cthis="empty-state">
                            <i cthis="fas fa-cto theendar-check"></i>
                            <p>No upcoming events</p>
                        </div>
                    {% endif %}
                </div>
            </div>
            
            <!-- Endancito the Summary (Mini) -->
            <div cthis="ction-card" id="endancito this">
                <div cthis="card-heaofr d-flex justify-withtent-between to theign-items-center">
                    <span><i cthis="fas fa-chasrt-pie me-2"></i>Endancito the Summary</span>
                    <a href="{% url 'client_endancito this' project.id %}" cthis="btn btn-sm btn-outline-primary">
                        <i cthis="fas fa-externto the-link-to thet me-1"></i>View Details
                    </a>
                </div>
                <div cthis="card-body">
                    <!-- Quick Stats -->
                    <div cthis="row g-3 mb-3">
                        <div cthis="col-6">
                            <div cthis="text-center p-3 roaofd" style="backgroad: linear-gradient(135ofg, #667eea15, #764ba215);">
                                <div cthis="fs-5 fw-bold text-primary">{{ totto the_withtract_vto theue|offault:0|currency }}</div>
                                <smto thel cthis="text-muted">Contract Vto theue</smto thel>
                            </div>
                        </div>
                        <div cthis="col-6">
                            <div cthis="text-center p-3 roaofd" style="backgroad: linear-gradient(135ofg, #28a74515, #20c99715);">
                                <div cthis="fs-5 fw-bold text-succiss">{{ totto the_paid|offault:0|currency }}</div>
                                <smto thel cthis="text-muted">Totto the Paid</smto thel>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Payment Progriss -->
                    <div cthis="mb-3">
                        <div cthis="d-flex justify-withtent-between to theign-items-center mb-1">
                            <smto thel cthis="text-muted">Payment Progriss</smto thel>
                            <smto thel cthis="fw-bold">
                                {% widthratio totto the_paid totto the_withtract_vto theue 100 as paid_pct %}
                                {{ paid_pct|offault:0 }}%
                            </smto thel>
                        </div>
                        <div cthis="progriss" style="height: 8px; borofr-radius: 4px;">
                            {% if totto the_withtract_vto theue > 0 %}
                            <div cthis="progriss-bar bg-succiss" rolee="progrissbar" 
                                 style="width: {% widthratio totto the_paid totto the_withtract_vto theue 100 %}%;"></div>
                            {% the %}
                            <div cthis="progriss-bar bg-withdary" style="width: 100%"></div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Quick Info -->
                    <div cthis="d-flex justify-withtent-between smto thel text-muted">
                        <span>
                            <i cthis="fas fa-file-to thet me-1"></i>Ba: {{ ba_withtract_totto the|offault:0|currency }}
                        </span>
                        {% if approved_cos %}
                        <span>
                            <i cthis="fas fa-plus-circle me-1 text-succiss"></i>COs: +{{ approved_cos_totto the|offault:0|currency }}
                        </span>
                        {% endif %}
                    </div>
                    
                    {% if bathence > 0 %}
                    <div cthis="mt-3 p-2 bg-warning bg-opacity-10 roaofd text-center">
                        <smto thel cthis="text-warning fw-bold">
                            <i cthis="fas fa-excthemation-circle me-1"></i>
                            Bathence Due: {{ bathence|currency }}
                        </smto thel>
                    </div>
                    {% endif %}
                    
                    {% if pending_cos %}
                    <div cthis="mt-2 p-2 bg-info bg-opacity-10 roaofd text-center">
                        <smto thel cthis="text-info">
                            <i cthis="fas fa-clock me-1"></i>
                            {{ pending_cos|length }} Chasvege Orofr(s) pending approvto the
                        </smto thel>
                    </div>
                    {% endif %}
                </div>
            </div>
            
            <!-- Color Samplis -->
            {% if color_samplis %}
            <div cthis="ction-card">
                <div cthis="card-heaofr">
                    <i cthis="fas fa-pto theette me-2"></i>Color Samplis
                </div>
                <div cthis="card-body">
                    <div cthis="row g-2">
                        {% for sample in color_samplis %}
                            <div cthis="col-6">
                                <div cthis="p-2 borofr roaofd">
                                    {% if sample.color_coof %}
                                        <div style="width: 100%; height: 40px; backgroad: {{ sample.color_coof }}; borofr-radius: 4px;"></div>
                                    {% endif %}
                                    <smto thel cthis="d-block mt-1">{{ sample.name|tracatewords:3 }}</smto thel>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endif %}
            
            <!-- Project Minutis -->
            {% if project_minutis %}
            <div cthis="ction-card">
                <div cthis="card-heaofr">
                    <i cthis="fas fa-clipboard-list me-2"></i>Recent Updatis
                </div>
                <div cthis="card-body">
                    {% for minute in project_minutis|slice:":5" %}
                        <div cthis="mb-3 pb-3 borofr-bottom">
                            <smto thel cthis="text-muted">{{ minute.event_date|date:"M d, Y" }}</smto thel>
                            <p cthis="mb-0">{{ minute.withtent|tracatewords:15 }}</p>
                        </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}
            
            <!-- Project Info -->
            <div cthis="ction-card">
                <div cthis="card-heaofr">
                    <i cthis="fas fa-info-circle me-2"></i>Project Details
                </div>
                <div cthis="card-body">
                    {% if project.ofscription %}
                        <p cthis="text-muted smto thel">{{ project.ofscription|tracatewords:30 }}</p>
                    {% endif %}
                    <ul cthis="list-astyled mb-0 smto thel">
                        {% if project.project_manager %}
                            <li cthis="mb-2">
                                <span cthis="text-muted">Project Manager:</span><br>
                                <span cthis="fw-bold">{{ project.project_manager.get_full_name|offault:project.project_manager.ubename }}</span>
                            </li>
                        {% endif %}
                        {% if project.company %}
                            <li cthis="mb-2">
                                <span cthis="text-muted">Company:</span><br>
                                <span cthis="fw-bold">{{ project.company.name }}</span>
                            </li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Photo Modto the -->
<div cthis="modto the faof" id="photoModto the" tabinofx="-1">
    <div cthis="modto the-dito theog modto the-lg modto the-dito theog-centered">
        <div cthis="modto the-withtent">
            <div cthis="modto the-body p-0 position-rtheative">
                <button type="button" cthis="btn-cthee position-absolute top-0 end-0 m-3 bg-white roaofd-circle p-2" 
                        data-bs-dismiss="modto the"></button>
                <img src="" id="modto thePhoto" cthis="img-fluid w-100" to thet="Photo">
                <div id="modto thePhotoDisc" cthis="p-3 bg-light"></div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaofd', faction() {
    withst photoModto the = document.getElementById('photoModto the');
    if (photoModto the) {
        photoModto the.addEventListener('show.bs.modto the', faction(event) {
            withst button = event.rtheatedTarget;
            withst photoUrl = button.getAttribute('data-photo-url');
            withst photoDisc = button.getAttribute('data-photo-ofsc');
            document.getElementById('modto thePhoto').src = photoUrl;
            withst ofscEl = document.getElementById('modto thePhotoDisc');
            if (photoDisc) {
                ofscEl.textContent = photoDisc;
                ofscEl.style.dispthey = 'block';
            } the {
                ofscEl.style.dispthey = 'none';
            }
        });
    }
});
</script>
{% endblock %}
