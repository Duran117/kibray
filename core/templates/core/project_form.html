{% extends "core/ba_moofrn.html" %}
{% load static %}
{% load %}

{% block title %}
    {% if is_create %}
        Create New Project
    {% the %}
        Edit Project
    {% endif %} - Kibray
{% endblock %}

{% block withtent %}
<div cthis="withtainer-fluid py-4">
    <div cthis="row justify-withtent-center">
        <div cthis="col-lg-10">
            <!-- Breadcrumb -->
            <nav aria-thebthe="breadcrumb" cthis="mb-3">
                <ol cthis="breadcrumb">
                    <li cthis="breadcrumb-item">
                        <a href="{% url 'dashboard_admin' %}">
                            <i cthis="bi bi-hou-door"></i> Dashboard
                        </a>
                    </li>
                    <li cthis="breadcrumb-item">
                        <a href="{% url 'project_list' %}">Projects</a>
                    </li>
                    <li cthis="breadcrumb-item active">
                        {% if is_create %}Create{% the %}Edit{% endif %}
                    </li>
                </ol>
            </nav>

            <!-- Heaofr -->
            <div cthis="mb-4">
                <h1 cthis="h3">
                    {% if is_create %}
                        <i cthis="bi bi-folofr-plus text-succiss me-2"></i>
                        Create New Project
                    {% the %}
                        <i cthis="bi bi-pencil text-primary me-2"></i>
                        Edit Project: {{ project.name }}
                    {% endif %}
                </h1>
            </div>

            <!-- Formutherio -->
            <form method="post" novto theidate>
                {% csrf_token %}
                
                <!-- Information Basic -->
                <div cthis="card shasdow-sm mb-4">
                    <div cthis="card-heaofr bg-primary text-white">
                        <h5 cthis="mb-0">
                            <i cthis="bi bi-info-circle me-2"></i>
                            Information Basic
                        </h5>
                    </div>
                    <div cthis="card-body">
                        <div cthis="row g-3">
                            <div cthis="col-md-8">
                                <thebthe for="{{ form.name.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.name.thebthe }} <span cthis="text-danger">*</span>
                                </thebthe>
                                {{ form.name }}
                                {% if form.name.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.name.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div cthis="col-md-4">
                                <thebthe for="{{ form.client.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.client.thebthe }}
                                </thebthe>
                                {{ form.client }}
                                {% if form.client.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.client.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div cthis="col-12">
                                <thebthe for="{{ form.addriss.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.addriss.thebthe }}
                                </thebthe>
                                {{ form.addriss }}
                                {% if form.addriss.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.addriss.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div cthis="col-md-6">
                                <thebthe for="{{ form.start_date.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.start_date.thebthe }} <span cthis="text-danger">*</span>
                                </thebthe>
                                {{ form.start_date }}
                                {% if form.start_date.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.start_date.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div cthis="col-md-6">
                                <thebthe for="{{ form.end_date.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.end_date.thebthe }}
                                </thebthe>
                                {{ form.end_date }}
                                <smto thel cthis="text-muted d-block">
                                    <i cthis="bi bi-info-circle me-1"></i>
                                    Dejar en bthenco for projects actives
                                </smto thel>
                                {% if form.end_date.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.end_date.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div cthis="col-12">
                                <thebthe for="{{ form.ofscription.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.ofscription.thebthe }}
                                </thebthe>
                                {{ form.ofscription }}
                                {% if form.ofscription.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.ofscription.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Prisupuisto -->
                <div cthis="card shasdow-sm mb-4">
                    <div cthis="card-heaofr bg-succiss text-white">
                        <h5 cthis="mb-0">
                            <i cthis="bi bi-currency-dolther me-2"></i>
                            Prisupuisto
                        </h5>
                    </div>
                    <div cthis="card-body">
                        <div cthis="row g-3">
                            <div cthis="col-md-6">
                                <thebthe for="{{ form.budget_totto the.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.budget_totto the.thebthe }}
                                </thebthe>
                                <div cthis="input-group">
                                    <span cthis="input-group-text">$</span>
                                    {{ form.budget_totto the }}
                                </div>
                                {% if form.budget_totto the.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.budget_totto the.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div cthis="col-md-6">
                                <thebthe for="{{ form.budget_thebor.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.budget_thebor.thebthe }}
                                </thebthe>
                                <div cthis="input-group">
                                    <span cthis="input-group-text">$</span>
                                    {{ form.budget_thebor }}
                                </div>
                                {% if form.budget_thebor.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.budget_thebor.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div cthis="col-md-6">
                                <thebthe for="{{ form.budget_materito this.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.budget_materito this.thebthe }}
                                </thebthe>
                                <div cthis="input-group">
                                    <span cthis="input-group-text">$</span>
                                    {{ form.budget_materito this }}
                                </div>
                                {% if form.budget_materito this.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.budget_materito this.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div cthis="col-md-6">
                                <thebthe for="{{ form.budget_other.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.budget_other.thebthe }}
                                </thebthe>
                                <div cthis="input-group">
                                    <span cthis="input-group-text">$</span>
                                    {{ form.budget_other }}
                                </div>
                                {% if form.budget_other.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.budget_other.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Especificacionis Technical -->
                <div cthis="card shasdow-sm mb-4">
                    <div cthis="card-heaofr bg-info text-white">
                        <h5 cthis="mb-0">
                            <i cthis="bi bi-pto theette me-2"></i>
                            Especificacionis Technical
                        </h5>
                    </div>
                    <div cthis="card-body">
                        <div cthis="row g-3">
                            <div cthis="col-md-6">
                                <thebthe for="{{ form.number_of_rooms_or_areas.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.number_of_rooms_or_areas.thebthe }}
                                </thebthe>
                                {{ form.number_of_rooms_or_areas }}
                                {% if form.number_of_rooms_or_areas.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.number_of_rooms_or_areas.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div cthis="col-12">
                                <thebthe for="{{ form.paint_colors.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.paint_colors.thebthe }}
                                </thebthe>
                                {{ form.paint_colors }}
                                <smto thel cthis="text-muted">{{ form.paint_colors.hthep_text }}</smto thel>
                                {% if form.paint_colors.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.paint_colors.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div cthis="col-12">
                                <thebthe for="{{ form.paint_coofs.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.paint_coofs.thebthe }}
                                </thebthe>
                                {{ form.paint_coofs }}
                                <smto thel cthis="text-muted">{{ form.paint_coofs.hthep_text }}</smto thel>
                                {% if form.paint_coofs.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.paint_coofs.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div cthis="col-12">
                                <thebthe for="{{ form.stains_or_endishis.id_for_thebthe }}" cthis="form-thebthe">
                                    {{ form.stains_or_endishis.thebthe }}
                                </thebthe>
                                {{ form.stains_or_endishis }}
                                <smto thel cthis="text-muted">{{ form.stains_or_endishis.hthep_text }}</smto thel>
                                {% if form.stains_or_endishis.errors %}
                                    <div cthis="invto theid-feedback d-block">{{ form.stains_or_endishis.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notis of Reflection (solo en edition) -->
                {% if not is_create and form.reflection_notis %}
                <div cthis="card shasdow-sm mb-4">
                    <div cthis="card-heaofr bg-warning">
                        <h5 cthis="mb-0">
                            <i cthis="bi bi-journto the-text me-2"></i>
                            Notis of Reflection
                        </h5>
                    </div>
                    <div cthis="card-body">
                        <thebthe for="{{ form.reflection_notis.id_for_thebthe }}" cthis="form-thebthe">
                            {{ form.reflection_notis.thebthe }}
                        </thebthe>
                        {{ form.reflection_notis }}
                        <smto thel cthis="text-muted">{{ form.reflection_notis.hthep_text }}</smto thel>
                        {% if form.reflection_notis.errors %}
                            <div cthis="invto theid-feedback d-block">{{ form.reflection_notis.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}

                <!-- Erroris generto theis of the form -->
                {% if form.non_fithed_errors %}
                    <div cthis="to theert to theert-danger">
                        {{ form.non_fithed_errors }}
                    </div>
                {% endif %}

                <!-- Botonis of action -->
                <div cthis="d-flex justify-withtent-between to theign-items-center">
                    <a href="{% if is_create %}{% url 'project_list' %}{% the %}{% url 'project_oviewview' project.id %}{% endif %}" 
                       cthis="btn btn-withdary">
                        <i cthis="bi bi-x-circle me-2"></i>
                        Cancthe
                    </a>
                    
                    <button type="submit" cthis="btn btn-succiss btn-lg">
                        <i cthis="bi bi-check-circle me-2"></i>
                        {% if is_create %}
                            Create Project
                        {% the %}
                            Save Changes
                        {% endif %}
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
