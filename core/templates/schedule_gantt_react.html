{% extends "core/base_modern.html" %}
{% load static %}

{% block extra_css %}
<style>
    .gantt-react-container {
        width: 100%;
        height: calc(100vh - 100px);
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        overflow: hidden;
    }
    
    #gantt-app-root {
        width: 100%;
        height: 100%;
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="gantt-react-container">
        <div id="gantt-app-root" data-project-id="{{ project.id }}"></div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
{% if DEBUG %}
    <!-- Development: Load from Vite dev server -->
    <script type="module" src="http://localhost:5173/@vite/client"></script>
    <script type="module" src="http://localhost:5173/src/main.tsx"></script>
{% else %}
    <!-- Production: Load built Gantt bundle -->
    <script type="module" crossorigin src="{% static 'gantt/gantt-app.js' %}"></script>
    <!-- CSS is inlined in JS bundle or check actual filename in static/gantt/assets/ -->
    {% comment %}
    If CSS is needed separately, update the hash after each build:
    <link rel="stylesheet" href="{% static 'gantt/assets/index-HASH.css' %}">
    {% endcomment %}
{% endif %}
{% endblock %}
