{% extends "core/base.html" %}
{% load static %}

{% block extra_css %}
<style>
    .gantt-react-container {
        width: 100%;
        height: calc(100vh - 100px);
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        overflow: hidden;
    }
    
    #gantt-root {
        width: 100%;
        height: 100%;
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="gantt-react-container">
        <div id="gantt-root" data-project-id="{{ project.id }}"></div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
{% if DEBUG %}
    <!-- Development: Load from Vite dev server -->
    <script type="module" src="http://localhost:5173/@vite/client"></script>
    <script type="module" src="http://localhost:5173/src/main.tsx"></script>
{% else %}
    <!-- Production: Load built assets from staticfiles (hashed via Vite) -->
    {% load static %}
    <script type="module" src="{% static 'gantt/main.CiDn1Eg8.js' %}"></script>
    <link rel="stylesheet" href="{% static 'gantt/main.Br17f8wA.css' %}">
{% endif %}
{% endblock %}
