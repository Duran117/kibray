# ==============================================================================
# KIBRAY CONSTRUCTION MANAGEMENT - ENVIRONMENT VARIABLES
# ==============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# ==============================================================================
# ENVIRONMENT
# ==============================================================================
DJANGO_ENV=development  # development, staging, or production

# ==============================================================================
# DJANGO SETTINGS
# ==============================================================================
DJANGO_SECRET_KEY=your-secret-key-here-change-in-production
DJANGO_DEBUG=False  # Set to False in production
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com
CSRF_TRUSTED_ORIGINS=https://your-domain.com,https://www.your-domain.com
CORS_ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# ==============================================================================
# DATABASE
# ==============================================================================
# PostgreSQL connection string for production
# Format: postgres://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://user:password@localhost:5432/kibray_db

# ==============================================================================
# REDIS
# ==============================================================================
# Redis for Channels (WebSocket) and Cache
REDIS_URL=redis://localhost:6379/0

# ==============================================================================
# AWS S3 STORAGE (Production Media Files)
# ==============================================================================
USE_S3=True  # Set to True in production
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_STORAGE_BUCKET_NAME=kibray-media
AWS_S3_REGION_NAME=us-east-1

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-specific-password
DEFAULT_FROM_EMAIL=noreply@kibray.com

# ==============================================================================
# FIREBASE (PWA Push Notifications)
# ==============================================================================
# Backend: Service Account JSON path
FIREBASE_CREDENTIALS_PATH=/path/to/firebase-service-account.json

# Frontend: Firebase Config (React app)
REACT_APP_FIREBASE_API_KEY=your-firebase-api-key
REACT_APP_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
REACT_APP_FIREBASE_PROJECT_ID=your-project-id
REACT_APP_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
REACT_APP_FIREBASE_MESSAGING_SENDER_ID=123456789
REACT_APP_FIREBASE_APP_ID=1:123456789:web:abcdef
REACT_APP_FIREBASE_VAPID_KEY=your-vapid-key

# ==============================================================================
# SENTRY (Error Monitoring)
# ==============================================================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production  # development, staging, or production

# ==============================================================================
# OPENAI API (AI Features)
# ==============================================================================
# Required for AI-powered features:
# - AI SOP Generator
# - Daily Plan AI Assistant  
# - Quick Planner AI
# - Strategic Planner AI
# - NLP Command Processing
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini  # Cost-effective default (gpt-3.5-turbo, gpt-4, gpt-4-turbo also available)

# ==============================================================================
# API CONFIGURATION
# ==============================================================================
API_BASE_URL=https://api.kibray.com

# ==============================================================================
# BUSINESS INTELLIGENCE
# ==============================================================================
BI_LOW_MARGIN_THRESHOLD=15.0
BI_HIGH_MARGIN_THRESHOLD=30.0
BI_CACHE_TTL=300
BI_CASH_FLOW_DAYS=30
BI_TOP_PERFORMERS_LIMIT=5

# ==============================================================================
# SECURITY
# ==============================================================================
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# ==============================================================================
# LOGGING
# ==============================================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ==============================================================================
# CELERY (Background Tasks)
# ==============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ==============================================================================
# DEVELOPMENT ONLY
# ==============================================================================
# These should only be set in development
# DEBUG=True
# CORS_ALLOW_ALL_ORIGINS=True
# WEBSOCKET_ACCEPT_ALL=True
