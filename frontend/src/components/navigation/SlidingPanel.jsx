import React,{useEffect,useRef}from 'react';import{useNavigation}from'../../context/NavigationContext';import{X,ChevronLeft}from 'lucide-react';import'./SlidingPanel.css';const SlidingPanel=({children,title,width='600px',level=1,onClose})=>{const panelRef=useRef(null);const{closePanel}=useNavigation();useEffect(()=>{const handleEscape=e=>{if(e.key==='Escape'){handleClose()}};document.addEventListener('keydown',handleEscape);return()=>document.removeEventListener('keydown',handleEscape)},[]);const handleClose=()=>{if(onClose){onClose()}else{closePanel()}};const zIndex=1100+level;const translateX=level>1?'40px':'0';return(<><div className="panel-overlay"style={{zIndex:zIndex-1,opacity:level*0.1}}onClick={handleClose}/><div ref={panelRef}className={`sliding-panel level-${level}`}style={{width,zIndex,transform:`translateX(-${translateX})`}}><div className="panel-header"><div className="panel-header-left">{level>1&&(<button className="panel-back-btn"onClick={handleClose}><ChevronLeft size={20}/></button>)}<h2 className="panel-title">{title}</h2></div><button className="panel-close-btn"onClick={handleClose}><X size={20}/></button></div><div className="panel-content">{children}</div></div></>)};export default SlidingPanel;